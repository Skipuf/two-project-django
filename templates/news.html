{% extends 'flatpages/default.html' %}

{% load custom_filters %}

{% block title %}
    Новости
{% endblock title %}

{% block content %}
    <h1 class="m-5">Все новости: {{ news|length }}</h1>
    {% if news %}
       {% for new in news %}
           <div class="m-5 card">
               <div class="card-body">
                   <h5 class="card-title">{{ new.title|censor }}</h5>
                   <h6 class="card-subtitle mb-2 text-body-secondary">{{ new.datetime_creation|date:"d.m.Y" }}</h6>
                   <p class="card-text">{{ new.content|truncatewords:20|censor }}</p>
                   <a href="{{ new.id }}" class="card-link">Читать</a>
               </div>
           </div>
       {% endfor %}
   {% else %}
       <h2 class="m-5">Новостей нет!</h2>
   {% endif %}
{% endblock content %}